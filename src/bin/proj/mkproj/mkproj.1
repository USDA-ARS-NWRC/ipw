.TH "mkproj" "1" "5 March 2015" "IPW v2" "IPW User Commands"
.SH NAME
.PP
\fBmkproj\fP - make a projection definition file
.SH SYNOPSIS
.sp
.nf
.ft CR
\fBmkproj\fP [ \fB-d\fP \fIdatum-code\fP ] [ \fB-u\fP \fIunit-code\fP ] \fB-p\fP \fIname\fP
       [ \fIprojection-specific options\fP ]
.ft R
.fi
.SH DESCRIPTION
.PP
mkproj is part of an extensive suite of projection transformation
tools coded into IPW by Kelly Longley (OSU) at the EPA Laboratory
in Corvallis, Oregon.  All are based on the libraries from the
General Cartographic Transformation Package (GCTP), which were converted
to C from fortran during early 1990 by Ms. Longley.
.PP
mkproj was written in 1994, by Robert McGowan, to provide a universal
tool for creation of projection defination files.  It replaces all of
individual programs (mkalbers, mkgeo, mklambert, mklamcc, mkutm,...)
that were written to provide this ability for specific projections.
.PP
mkproj creates a projection definition file for any of the defined map
projections listed below (see OPTIONS, -p).  The output projection file
contains the 15 projection parameters defined in the USGS General
Cartographic Transformation Package and used by program reproj to
reproject an image.  (See GCTP documentation for a description of the
parameters.)
.PP
The output file is written in ASCII to stdout with values
in the following order:
.sp
.nf
.ft CR
        projection ID code
        units code
        zone code (used only by UTM and SPCS)
        datum code
        projection parameters (15 values)
.ft R
.fi
.SH OPTIONS
.TP
\fB-d\fP \fIdatum-code\fP
datum code used to define shape of the standard sphere. Used
to set the semimajor axis and eccentricity squared of the
ellipsoid. (default: 0)
.sp
.nf
.ft CR

0=Clarke 1866  7=WGS 66        14=Australian National
1=Clarke 1880  8=GRS 1980      15=Krassovsky
2=Bessel       9=Airy          16=Hough
3=Int'l 1967  10=Mod. Everest  17=Mercury 1960
4=Int'l 1909  11=Mod. Airy     18=Mod. Mercury 1968
5=WGS 72      12=Walbeck       19=Sphere, rad. 6370997m
6=Everest     13=Southeast Asia
.ft R
.fi
.TP
\fB-u\fP \fIunit-code\fP
projection units. (default: 2)
.sp
.nf
.ft CR
0=radians   2=meters        4=degrees of arc
1=feet      3=sec of arc    5=packed DMS (DDDMMMSSS.SS)
.ft R
.fi
.TP
\fB-p\fP \fIname\fP
projection type. The name must be one of the following:
.sp
.nf
.ft CR
      NAME    PROJECTION TYPE
      ====    ===============
      albers  Albers Conical
      azmeqd  Azimuthal Equidistant
      eqrect  Equirectangular
      equidc  Equidistant Conic
      geo     Geographic
      gnomon  Gnomonic
      gvnsp   General Vertical Near-Side Perspective
      hom     (Hotine) Oblique Mercator
      lamaz   Lambert Azimuthal Equal Area
      lamcc   Lambert Conformal Conic
      mercat  Mercator
      miller  Miller Cylindrical
      ortho   Orthographic
      polyc   Polyconic
      ps      Polar Stereographic
      snsoid  Sinusoidal
      som     Space Oblique Mercator
      spcs    State Plane Coordinate (SPCS)
      stereo  Stereographic
      tm      Transverse Mercator (TM)
      utm     Universal Transverse Mercator (UTM)
      vgrint  Van der Grinten
.ft R
.fi
.PP
Each projection type has its own set of additional options, which may appear
in any order on the command line.
.sp
.nf
.ft CR
albers:  \fB-l\fP \fIlong,lat\fP [ \fB-s\fP \fIstlat,stlat\fP ] [ \fB-o\fP \fIeast,north\fP ]
         [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

azmeqd:  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

eqrect:  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

equidc:  \fB-l\fP \fIlong,lat\fP \fB-s\fP \fIstlat\fP[,\fIstlat\fP] [ \fB-o\fP \fIeast,north\fP ]
         [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

geo   :   (\fIno additonal parameters\fP)

gnomon:  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

gvnsp :  \fB-l\fP \fIlong,lat\fP \fB-h\fP \fIheight\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

hom   :  \fB-l\fP \fIlong1,lat1,long2,lat2\fP |
         \fB-z\fP \fIazim,long\fP \fB-c\fP \fIscale,stlat\fP [ \fB-o\fP \fIeast,north\fP ]
         [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

lamaz :  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

lamcc :  \fB-l\fP \fIlong,lat\fP [ \fB-s\fP \fIstlat,stlat\fP ] [ \fB-o\fP \fIeast,north\fP ]
         [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

mercat:  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

miller:  \fB-l\fP \fIlong\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

ortho :  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

polyc :  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

ps    :  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-a\fP \fIaxis\fP ] [ \fB-e\fP \fIeccsq\fP ]

snsoid:  \fB-l\fP \fIlong\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

som   :  \fB-l\fP \fIlong\fP | \fB-w\fP \fIpath\fP [ \fB-i\fP \fIinclin\fP ] [ \fB-t\fP \fIminutes\fP ]
         [ \fB-r\fP \fIratio\fP ] [ \fB-f\fP \fIflag\fP ] [ \fB-o\fP \fIeast,north\fP ] [ \fB-a\fP \fIaxis\fP ]
         [ \fB-e\fP \fIeccsq\fP ]

spcs  :  \fB-n\fP \fIzone\fP

stereo:  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

tm    :  \fB-l\fP \fIlong,lat\fP [ \fB-c\fP \fIscale\fP ] [ \fB-o\fP \fIeast,north\fP ] [ \fB-a\fP \fIaxis\fP ]
         [ \fB-e\fP \fIeccsq\fP ]

utm   :  \fB-l\fP \fIlong,lat\fP | \fB-n\fP \fIzone\fP

vgrint:  \fB-l\fP \fIlong,lat\fP [ \fB-o\fP \fIeast,north\fP ] [ \fB-r\fP \fIradius\fP ]

.ft R
.fi
.TP
\fB-a\fP \fIaxis\fP
(albers, equidc, hom, lamcc, mercat, polyc, ps, som, tm)
.br
     semi-major axis of the ellipsoid, in units chosen by \fB-u\fP
(not used if \fB-d\fP is specified)
.sp
.TP
\fB-c\fP \fIscale,stlat\fP
(tm)
.br
     scale factor at central meridian
.br
.br
(hom)
.br
     scale factor at center of projection, followed by latitude of
projection origin
.sp
.TP
\fB-e\fP \fIeccsq\fP
(albers, equidc, hom, lamcc, mercat, polyc, ps, som, tm)
.br
     eccentricity squared of ellipsoid:
.sp
If \fIeccsq\fP=0, then the earth is assumed to be a sphere.
.sp
If 0 < \fIeccsq\fP <= 1, then \fIeccsq\fP is the eccentricity squared
of the ellipsoid.
.sp
If \fIeccsq\fP > 1, then \fIeccsq\fP is the semi-minor axis of
of the ellipsoid, in the same units as the semi-major axis
.sp
Not used if \fB-d\fP is specified.  If used, \fB-a\fP must also be used.
.sp
.TP
\fB-f\fP \fIflag\fP
(som)
.br
     Landsat end-of-path flag (default: 0)
.br
set to 1 to see portions of rows 1, 2 as part of rows 246, 247
.sp
.TP
\fB-h\fP \fIheight\fP
(gvnsp)
.br
     height of perspective point
.sp
.TP
\fB-i\fP \fIinclin\fP
(som)
.br
     inclination of orbit at ascending node, measured counter-clockwise
from the equator
.sp
.TP
\fB-l\fP \fIlong,lat\fP
     longitude (+E/-W) and latitude (+N/-S) of:
.sp
(azmeqd, gnomon, gvnsp, lamaz, ortho, stereo)
.br
     center of projection
.sp
(utm)
.br
     any point in the UTM zone
.sp
(hom)
.br
     two points on the centerline of projection
.sp
(eqrect, mercat)
.br
     longitude of central meridian, latitude of true scale
.sp
(ps)
.br
     longitude down below pole of map, latitude of true scale
.sp
(albers, equidc, lamcc, polyc, tm, vgrint)
.br
     longitude of central meridian, latitude of origin
.sp
(miller, snsoid)
.br
    central meridian (longitude only)
.sp
(som)
.br
    acending node of orbit (longitude only)
.sp
.TP
\fB-n\fP \fIzone\fP
(utm)
.br
     UTM zone code (use negative codes for Southern hemisphere
.sp
(spcs)
.br
     SPCS zone code
.sp
.TP
\fB-o\fP \fIeast,north\fP
offset of upper-left corner of image from origin of projection,
in the units chosen with the \fB-u\fP option.  Use negative numbers for
offsets west or south of origin.  Also known as false-easting and
false-northing. (default: 0,0)
.sp
.TP
\fB-r\fP \fIradius\fP or \fIratio\fP
(azmeqd, eqrect, gnomon, gvnsp, lamaz, miller, ortho, snsoid,
stereo, vgrint)
.br
     radius of sphere of reference, in units chosen with the \fB-u\fP
option (default: 6370997) (NOTE: if you choose units other
than meters, you will need to change this number)
.sp
(som)
.br
     Landsat ratio, to compensate for confusion at northern
end of orbit (default: 0.5201613);
.sp
.TP
\fB-s\fP \fIstlat,stlat\fP
(albers, equidc, lamcc)
.br
     standard parallel(s) for the projection
.sp
.TP
\fB-t\fP \fIminutes\fP
(som)
.br
     orbit period, in minutes
.sp
.TP
\fB-w\fP \fIpath\fP
(som)
.br
     Landsat path number (used to calculate longitude of ascending orbit)
.sp
.TP
\fB-z\fP \fIazim,long\fP
(hom)
.br
     azimuth angle of centerline (clockwise from north), followed by
longitude of centerline's intersection with central meridian
.SH OPERANDS
None.
.SH EXAMPLES
.PP
To create the parameter definition file for a geodetic projection:
.sp
.nf
.ft CR
    mkproj -p geo > geo.defs
.ft R
.fi
.PP
Parameters for an Albers Conical Equal Area projection of the
continental U.S.:
.sp
.nf
.ft CR
    mkproj -p albers -s 29.5,45.5 -l -96,23 > usalbers.defs
.ft R
.fi
.PP
Parameters for a Lambert Azimuthal Equal Area  projection of
North America:
.sp
.nf
.ft CR
    mkproj -p lamaz -l -100,45 > nalambert.defs
.ft R
.fi
.PP
Parameters for a Lambert Conformal Conic projection of the U.S.:
.sp
.nf
.ft CR
    mkproj -p lamcc -l -96,23 -s 29.5,45.5 > uslamcc.defs
.ft R
.fi
.PP
Parameters for a Universal Transvers Mercator projection of
Western Oregon:
.sp
.nf
.ft CR
    mkproj -p utm -n 10 > west.ore.defs
                   or
    mkproj -p utm -l -121,45 > west.ore.defs
.ft R
.fi
.SH FILES
None.
.SH DIAGNOSTICS
None.
.SH RESTRICTIONS
None.
.SH HISTORY
.TP
Feb 1994
Written by Robert McCowen, Computer Sciences Corp.,
Environmental Research Laboratory, Corvallis, OR
.sp
.TP
Jun 1996
Internal housecleaning for more readable code.
Fixed minor bugs.  J. Domingo, OSU
.SH BUGS
None.
.SH SEE ALSO
.TP
IPW:
\fBmkgeo\fP,
\fBmklambert\fP,
\fBmklamcc\fP,
\fBmkalbers\fP,
\fBmkutm\fP,
\fBreproj\fP,
\fBreproj_area\fP,
\fBtranscoord\fP
.PP
Evenden 1983,
Elassal 1987,
Snyder 1987,
Snyder 1989
